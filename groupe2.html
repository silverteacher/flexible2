<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mission Rolling Stones - Classe Flexible</title>
  <style>
    * { box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 1em; background: linear-gradient(135deg, #8B4513 0%, #654321 100%); color: #222; font-size: 16px; line-height: 1.6; max-width: 1200px; margin: 0 auto; }
    
    .mission-intro { 
        background: rgba(255, 255, 255, 0.92); 
        border-radius: 20px; 
        padding: 30px; 
        margin-bottom: 30px; 
        box-shadow: 0 10px 40px rgba(0,0,0,0.3); 
        position: relative; 
        border: 3px solid #D2691E; 
        overflow: hidden;
    }
    
    /* IMAGE DE FOND ROLLING STONES */
    .mission-intro::before {
        content: '';
        position: absolute;
        top: 60%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 80%;
        height: 80%;
        background-image: url('stones.jpg');
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        opacity: 0.45;
        z-index: 0;
        pointer-events: none;
    }
    
    .mission-intro > * {
        position: relative;
        z-index: 1;
    }
    
    .mission-intro h1 { text-align: center; color: #D2691E; font-size: 2.2em; margin-bottom: 20px; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); }
    
    .stones-header { display: flex; align-items: center; justify-content: center; gap: 20px; margin-bottom: 150px; flex-wrap: wrap; }
    .music-icon { font-size: 3em; animation: pulse 2s ease-in-out infinite; }
    @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
    .tongue-logo { font-size: 4em; animation: wiggle 3s ease-in-out infinite; }
    @keyframes wiggle { 0%, 100% { transform: rotate(-5deg); } 50% { transform: rotate(5deg); } }
    .mission-text { background: rgba(255, 248, 240, 0.85); padding: 20px; border-radius: 12px; border-left: 5px solid #D2691E; font-size: 1.05em; line-height: 1.8; }
    .mission-text strong { color: #D2691E; font-size: 1.1em; }
    .mission-text ul { margin: 15px 0; padding-left: 25px; }
    .mission-text li { margin: 8px 0; }
    .timer-section { background: white; border-radius: 15px; padding: 25px; margin-bottom: 30px; box-shadow: 0 8px 30px rgba(210, 105, 30, 0.3); border: 3px solid #D2691E; text-align: center; }
    .timer-display { font-size: 3.5em; font-weight: bold; color: #D2691E; margin: 20px 0; font-family: 'Courier New', monospace; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
    .timer-display.warning { color: #FF8C00; animation: blink 1s ease-in-out infinite; }
    .timer-display.danger { color: #E74C3C; animation: blink 0.5s ease-in-out infinite; }
    @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
    .timer-controls { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-top: 20px; }
    .timer-controls button { background: #D2691E; color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 1.1em; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
    .timer-controls button:hover { background: #A0522D; transform: translateY(-2px); }
    .timer-controls button:disabled { background: #ccc; cursor: not-allowed; transform: none; }
    .timer-controls button.pause-btn { background: #FFA94D; }
    .timer-controls button.pause-btn:hover { background: #FF8C00; }
    .timer-controls button.reset-btn { background: #666; }
    .timer-controls button.reset-btn:hover { background: #555; }
    .indice-section { background: linear-gradient(135deg, #FFA94D 0%, #FFB366 100%); border-radius: 20px; padding: 25px; margin-bottom: 30px; box-shadow: 0 8px 30px rgba(255, 169, 77, 0.3); border: 3px solid #F79A3E; }
    .indice-header { display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 20px; }
    .indice-header h2 { color: white; font-size: 1.8em; margin: 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
    .escape-icon { font-size: 2.5em; animation: bounce 2s ease-in-out infinite; }
    @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    .indice-content { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.15); }
    .indice-content p { font-size: 1.1em; color: #333; margin: 10px 0; line-height: 1.8; }
    .indice-content strong { color: #F79A3E; font-size: 1.15em; }
    .indice-warning { background: #FFF4E6; color: #9A6324; padding: 12px; border-radius: 8px; border-left: 4px solid #FFA94D; margin-top: 15px; font-style: italic; }
    .container { background: white; border-radius: 15px; padding: 30px; box-shadow: 0 5px 25px rgba(0,0,0,0.15); }
    h1 { font-size: 2em; margin-bottom: 0.3em; color: #D2691E; }
    h2 { font-size: 1.5em; margin-bottom: 0.8em; color: #333; }
    h3 { font-size: 1.2em; color: #555; }
    .progression { margin-bottom: 30px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; }
    .step { width: 70px; height: 70px; border-radius: 50%; border: 3px solid #D2691E; display: flex; align-items: center; justify-content: center; background: #fff; opacity: 0.5; font-size: 1.3em; font-weight: bold; transition: all 0.3s ease; }
    .step.active { background: #D2691E; color: #fff; opacity: 1; transform: scale(1.1); box-shadow: 0 4px 15px rgba(210, 105, 30, 0.4); }
    .section { border-radius: 15px; background: #FFFAF5; margin-bottom: 30px; padding: 25px 30px; box-shadow: 0 3px 15px rgba(0, 0, 0, 0.08); }
    label { font-weight: 600; font-size: 1.1em; display: block; margin-bottom: 10px; color: #333; }
    input[type="text"], textarea { width: 100%; margin-bottom: 12px; padding: 10px 12px; border-radius: 8px; border: 2px solid #E8C4A0; font-size: 1em; transition: border-color 0.3s ease; }
    input[type="text"]:focus, textarea:focus { outline: none; border-color: #D2691E; }
    button { margin-top: 8px; background: #D2691E; color: #fff; border: none; border-radius: 8px; padding: 12px 24px; cursor: pointer; font-size: 1em; font-weight: 600; transition: background 0.3s ease, transform 0.2s ease; }
    button:hover { background: #A0522D; transform: translateY(-2px); }
    button:disabled { background: #ccc !important; cursor: not-allowed !important; transform: none !important; opacity: 0.6 !important; }
    .btn-success { background: #50C878; }
    .btn-success:hover { background: #3FB264; }
    .error { color: #E74C3C; font-weight: bold; font-size: 1em; margin-top: 10px; }
    .success { color: #50C878; font-weight: bold; font-size: 1em; margin-top: 10px; }
    .hint { background: #FFF4E6; color: #9A6324; padding: 10px 15px; border-radius: 8px; font-size: 0.95em; margin-top: 10px; display: block; border-left: 4px solid #FFA94D; }
    .notearea { min-height: 120px; font-size: 1em; }
    .hidden { display: none; }
    
    /* LECTEURS AUDIO STYLIS√âS - ROLLING STONES THEME */
    .audio-container {
      background: linear-gradient(135deg, #D2691E 0%, #A0522D 100%);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 8px 25px rgba(210, 105, 30, 0.4);
      border: 3px solid #8B4513;
    }
    
    audio {
      width: 100%;
      height: 60px;
      border-radius: 10px;
      outline: none;
      filter: brightness(1.1) saturate(1.2);
    }
    
    audio::-webkit-media-controls-panel {
      background: linear-gradient(135deg, #D2691E 0%, #A0522D 100%);
      border-radius: 10px;
    }
    
    audio::-webkit-media-controls-play-button,
    audio::-webkit-media-controls-mute-button {
      background-color: white;
      border-radius: 50%;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
    }
    
    audio::-webkit-media-controls-timeline {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 25px;
      margin: 0 10px;
    }
    
    audio::-webkit-media-controls-current-time-display,
    audio::-webkit-media-controls-time-remaining-display {
      color: white;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
      font-weight: 600;
    }
    
    .export-buttons { display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap; }
    .export-buttons button { margin-top: 0; }
    .final-section { background: linear-gradient(135deg, #FFA94D 0%, #FFB976 100%); padding: 30px; border-radius: 15px; text-align: center; margin-top: 30px; box-shadow: 0 5px 20px rgba(255, 169, 77, 0.3); }
    .final-section h2 { color: white; font-size: 1.8em; margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
    .envelope-section { background: white; padding: 20px; border-radius: 10px; margin-top: 20px; }
    .mick-button { background: #D2691E; font-size: 1.2em; padding: 20px 40px; margin-top: 20px; }
    .mick-button:hover { background: #A0522D; }
    footer { text-align: center; margin-top: 50px; padding: 20px; color: white; font-size: 0.9em; }
    footer a { color: #FFD89B; text-decoration: none; }
    footer a:hover { text-decoration: underline; }
    .question-block { margin-bottom: 25px; padding: 20px; background: #FFF; border-radius: 10px; border-left: 4px solid #D2691E; }
    .carte-mentale-box { background: #E8F5E9; padding: 25px; border-radius: 12px; border: 3px solid #50C878; margin-top: 20px; text-align: center; }
    .carte-mentale-box h3 { color: #2E7D32; font-size: 1.4em; margin-bottom: 15px; }
    .carte-mentale-box ul { text-align: left; display: inline-block; margin: 15px 0; }
    .carte-mentale-box li { margin: 8px 0; font-size: 1.05em; }
    .big-validate-btn { background: #50C878 !important; font-size: 1.3em !important; padding: 20px 40px !important; margin-top: 20px; }
    .big-validate-btn:hover { background: #3FB264 !important; }
    @media (max-width: 768px) { body { padding: 0.5em; font-size: 14px; } .mission-intro h1 { font-size: 1.6em; } .music-icon { font-size: 2em; } .tongue-logo { font-size: 3em; } .escape-icon { font-size: 2em; } h1 { font-size: 1.5em; } h2 { font-size: 1.3em; } .step { width: 55px; height: 55px; font-size: 1.1em; } .section, .mission-intro, .container, .indice-section, .timer-section { padding: 15px 20px; } .progression { gap: 10px; } .timer-display { font-size: 2.5em; } .timer-controls { flex-direction: column; } .timer-controls button { width: 100%; } }
    @media (max-width: 480px) { .mission-intro h1 { font-size: 1.4em; } .step { width: 50px; height: 50px; font-size: 1em; } .export-buttons { flex-direction: column; } .export-buttons button { width: 100%; } .timer-display { font-size: 2em; } }
  </style>
</head>
<body>
  <div class="mission-intro">
    <div class="stones-header">
      <span class="music-icon">üé∏</span>
      <h1>Mission pour le groupe 2 ROLLING STONES</h1>
      <span class="tongue-logo">üëÖ</span>
    </div>
    <div class="mission-text">
      <p><strong>Bienvenue dans cette mission "La parole aux praticiens de la classe flexible"</strong></p>
      <p><strong>Vous devez en 20 minutes :</strong></p>
      <ul>
        <li>üéß √âcouter les audios</li>
        <li>üìù Prendre des notes</li>
        <li>üîë Trouver les mots codes pour obtenir le message final et d√©couvrir l'enveloppe</li>
      </ul>
      <p>√Ä l'issue de l'√©coute, discutez de ce que vous avez d√©couvert et r√©alisez une <strong>carte mentale</strong> avec les points saillants du propos du chef d'√©tablissement.</p>
      <p>Puis partez √† la recherche du groupe <strong>Beatles</strong> pour √©changer avec eux en vous tenant debout sur vos questions, d√©couvertes et r√©flexions.</p>
      <p style="text-align: center; font-size: 1.2em; margin-top: 15px;">üé∏ <strong>Bonne chance !</strong> üé∏</p>
    </div>
  </div>

  <div class="timer-section">
    <h2 style="color: #D2691E; margin-bottom: 15px;">‚è±Ô∏è Chronom√®tre de Mission</h2>
    <div class="timer-display" id="timer-display">20:00</div>
    <div class="timer-controls">
      <button id="start-btn" onclick="startTimer()">‚ñ∂Ô∏è D√©marrer</button>
      <button id="pause-btn" class="pause-btn" onclick="pauseTimer()" disabled>‚è∏Ô∏è Pause</button>
      <button id="reset-btn" class="reset-btn" onclick="resetTimer()">üîÑ R√©initialiser</button>
    </div>
    <p id="timer-status" style="margin-top: 15px; font-size: 1.1em; color: #666;"></p>
  </div>

  <div class="indice-section">
    <div class="indice-header">
      <span class="escape-icon">üåü</span>
      <h2>Indices pour l'Escape Team</h2>
      <span class="escape-icon">ü™ê</span>
    </div>
    <div class="indice-content">
      <p><strong>Si un membre de l'Escape Team vous sollicite avec le sourire, vous pouvez leur donner cet indice :</strong></p>
      <p style="font-size: 1.2em; color: #F79A3E; font-weight: 600; text-align: center; margin: 20px 0;">üí° Phase 5 : Les plan√®tes. D√©coupez puis pliez la feuille en suivant l'emplacement d√©crit des plan√®tes et comptez le nombre d'√©toiles.</p>
      <div class="indice-warning">‚ö†Ô∏è Cet indice ne doit √™tre donn√© que si l'√©quipe le demande avec le sourire !</div>
    </div>
  </div>

  <div class="container">
    <h1>La classe flexible : t√©moignage d'un chef d'√©tablissement</h1>
    <nav class="progression">
      <div class="step active" id="step1">1</div>
      <div class="step" id="step2">2</div>
      <div class="step" id="step3">3</div>
      <div class="step" id="step4">4</div>
    </nav>

    <!-- AUDIO 1 -->
    <div class="section" id="audio1-section">
      <h2>√âtape 1 : Premi√®re √©coute</h2>
      <div class="audio-container">
        <audio id="audio1" controls src="audio1.mp3"></audio>
      </div>

      <div class="question-block hidden" id="question-q1">
        <form onsubmit="return verifierQ1(this);">
          <label>Qu'a suscit√© la premi√®re salle flexible chez les professeurs ? (3 mots)</label>
          <input type="text" id="input-q1" autocomplete="off" placeholder="Votre r√©ponse">
          <button type="submit">Valider</button>
          <div id="msg-q1"></div>
          <div id="indice-q1" class="hint hidden"></div>
        </form>
      </div>

      <div class="question-block hidden" id="question-q2">
        <form onsubmit="return verifierQ2(this);">
          <label>Quelle est la force de la salle flexible pour des enseignants qui souhaitent l'utiliser sur un temps court ? (2 mots)</label>
          <input type="text" id="input-q2" autocomplete="off" placeholder="Votre r√©ponse">
          <button type="submit">Valider</button>
          <div id="msg-q2"></div>
          <div id="indice-q2" class="hint hidden"></div>
        </form>
      </div>
    </div>

    <!-- AUDIO 2 -->
    <div class="section hidden" id="audio2-section">
      <h2>√âtape 2 : Deuxi√®me √©coute</h2>
      <div class="audio-container">
        <audio id="audio2" controls src="audio2.mp3"></audio>
      </div>

      <div class="question-block hidden" id="question-q3">
        <form onsubmit="return verifierQ3(this);">
          <label>Quel est le premier point de vigilance pour installer des √Ælots ? (4 mots)</label>
          <input type="text" id="input-q3" autocomplete="off" placeholder="Votre r√©ponse">
          <button type="submit">Valider</button>
          <div id="msg-q3"></div>
          <div id="indice-q3" class="hint hidden"></div>
        </form>
      </div>

      <div class="question-block hidden" id="question-q4">
        <form onsubmit="return verifierQ4(this);">
          <label>Quel est le second point de vigilance en ce qui concerne l'√©quipement de ces salles ? (2 mots)</label>
          <input type="text" id="input-q4" autocomplete="off" placeholder="Votre r√©ponse">
          <button type="submit">Valider</button>
          <div id="msg-q4"></div>
          <div id="indice-q4" class="hint hidden"></div>
        </form>
      </div>

      <div class="question-block hidden" id="question-q5">
        <form onsubmit="return verifierQ5(this);">
          <label>Le troisi√®me point de vigilance ? (2 mots)</label>
          <input type="text" id="input-q5" autocomplete="off" placeholder="Votre r√©ponse">
          <button type="submit">Valider</button>
          <div id="msg-q5"></div>
          <div id="indice-q5" class="hint hidden"></div>
        </form>
      </div>

      <div class="question-block hidden" id="question-q6">
        <form onsubmit="return verifierQ6(this);">
          <label>Comment r√©partir les enseignants sur ces salles ? Deux solutions. (1 √† 4 mots attendus)</label>
          <input type="text" id="input-q6" autocomplete="off" placeholder="Votre r√©ponse">
          <button type="submit">Valider</button>
          <div id="msg-q6"></div>
          <div id="indice-q6" class="hint hidden"></div>
        </form>
      </div>
    </div>

    <!-- CARTE MENTALE SIMPLIFI√âE -->
    <div class="section hidden" id="mindmap-section">
      <h2>√âtape 3 : Carte mentale et √©change</h2>
      
      <div class="carte-mentale-box">
        <h3>üìã Instructions pour la carte mentale</h3>
        <ul>
          <li>‚úèÔ∏è Cr√©ez une carte mentale avec les points cl√©s du t√©moignage</li>
          <li>üì∏ Prenez une photo de votre carte mentale</li>
          <li>üë• Allez montrer votre travail au groupe <strong>Beatles</strong></li>
          <li>üí¨ √âchangez debout sur vos d√©couvertes et r√©flexions</li>
        </ul>
        
        <button onclick="validerCarteMentale()" class="big-validate-btn">‚úÖ J'ai cr√©√© ma carte mentale et √©chang√© avec le groupe Beatles</button>
        
        <div id="validation-carte" class="success hidden" style="margin-top: 20px; font-size: 1.2em;"></div>
      </div>
    </div>

    <!-- NOTES -->
    <div class="section">
      <h2>Notes personnelles</h2>
      <textarea id="notes" class="notearea" placeholder="Prenez vos notes ici..."></textarea>
      <div id="notes-status"></div>
      <div class="export-buttons">
        <button onclick="exporterNotesTXT()">Exporter en TXT</button>
        <button onclick="exporterNotesPDF()">Exporter en PDF</button>
      </div>
    </div>
  </div>

  <!-- MESSAGE FINAL -->
  <div class="final-section hidden" id="final-section">
    <h2>üéâ F√âLICITATIONS ! üéâ</h2>
    <div class="envelope-section">
      <h3>üé∏ Mission accomplie ! üé∏</h3>
      <p style="font-size: 1.2em; margin: 20px 0;">Vous avez termin√© toutes les √©tapes avec succ√®s !</p>
      <p style="font-size: 1.1em; margin: 20px 0;">Envoyez <strong>Mick</strong> pour r√©cup√©rer l'enveloppe bonus !</p>
      <button onclick="envoyerMick()" class="mick-button">üëÖ Envoyer Mick chercher l'enveloppe</button>
      <div id="envoi-msg" style="margin-top: 20px; font-size: 1.2em; font-weight: bold;"></div>
    </div>
  </div>

  <footer>
    <p>Cr√©√© par <strong>Am√©lie Silvert</strong><br>DRANE Lille ‚Äì D√©l√©gation R√©gionale Acad√©mique au Num√©rique √âducatif<br>Acad√©mie de Lille<br>üìß <a href="mailto:amelie.silvert@ac-lille.fr">amelie.silvert@ac-lille.fr</a></p>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    // CHRONOM√àTRE
    let timerInterval=null;let timeRemaining=1200;let isRunning=false;
    function updateTimerDisplay(){const minutes=Math.floor(timeRemaining/60);const seconds=timeRemaining%60;const display=document.getElementById('timer-display');display.textContent=`${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;if(timeRemaining<=60&&timeRemaining>0){display.className='timer-display danger';}else if(timeRemaining<=300&&timeRemaining>60){display.className='timer-display warning';}else{display.className='timer-display';}}
    function startTimer(){if(!isRunning){isRunning=true;document.getElementById('start-btn').disabled=true;document.getElementById('pause-btn').disabled=false;document.getElementById('timer-status').innerHTML='<span style="color: #50C878; font-weight: 600;">‚è±Ô∏è Chronom√®tre en cours...</span>';timerInterval=setInterval(()=>{if(timeRemaining>0){timeRemaining--;updateTimerDisplay();}else{clearInterval(timerInterval);isRunning=false;document.getElementById('timer-status').innerHTML='<span style="color: #E74C3C; font-weight: 600;">‚è∞ TEMPS √âCOUL√â !</span>';}},1000);}}
    function pauseTimer(){if(isRunning){clearInterval(timerInterval);isRunning=false;document.getElementById('start-btn').disabled=false;document.getElementById('pause-btn').disabled=true;document.getElementById('timer-status').innerHTML='<span style="color: #FFA94D; font-weight: 600;">‚è∏Ô∏è Chronom√®tre en pause</span>';}}
    function resetTimer(){clearInterval(timerInterval);isRunning=false;timeRemaining=1200;updateTimerDisplay();document.getElementById('start-btn').disabled=false;document.getElementById('pause-btn').disabled=true;document.getElementById('timer-status').textContent='';}
    
    // PROGRESSION
    function majProgression(etape){for(let i=1;i<=4;i++){document.getElementById("step"+i).className="step"+(i<=etape?' active':'');}}
    
    // NOTES
    const notesEl=document.getElementById("notes");notesEl.value=localStorage.getItem("lflex-stones-notes")||"";notesEl.oninput=()=>{localStorage.setItem("lflex-stones-notes",notesEl.value);document.getElementById('notes-status').textContent="Notes sauvegard√©es !";setTimeout(()=>{document.getElementById('notes-status').textContent='';},1500);};
    function exporterNotesTXT(){const notes=document.getElementById('notes').value;if(!notes.trim()){alert('Aucune note √† exporter !');return;}const blob=new Blob([notes],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='mes_notes_classe_flexible_stones.txt';a.click();URL.revokeObjectURL(url);}
    function exporterNotesPDF(){const notes=document.getElementById('notes').value;if(!notes.trim()){alert('Aucune note √† exporter !');return;}const{jsPDF}=window.jspdf;const doc=new jsPDF();doc.setFontSize(16);doc.text('Mes notes - La classe flexible',20,20);doc.setFontSize(12);const lignes=doc.splitTextToSize(notes,170);doc.text(lignes,20,35);doc.save('mes_notes_classe_flexible_stones.pdf');}
    
    // AUDIO 1
    const audio1=document.getElementById('audio1');
    audio1.addEventListener('ended',function(){
      document.getElementById('question-q1').classList.remove('hidden');
    });

    // AUDIO 2
    const audio2=document.getElementById('audio2');
    audio2.addEventListener('ended',function(){
      document.getElementById('question-q3').classList.remove('hidden');
    });

    // SYST√àME D'ESSAIS
    let essaisQ={q1:0,q2:0,q3:0,q4:0,q5:0,q6:0};

    // QUESTION 1
    function verifierQ1(f){
      const val=document.getElementById("input-q1").value.trim().toLowerCase().replace(/'/g,"").replace(/\s+/g," ");
      const bons=["de lengouement","delengouement"];
      essaisQ.q1++;
      if(bons.includes(val.replace(/\s+/g,""))){
        document.getElementById("msg-q1").innerHTML='<span class="success">‚úÖ Bonne r√©ponse !</span>';
        setTimeout(()=>{
          document.getElementById('question-q2').classList.remove('hidden');
          document.getElementById('question-q2').scrollIntoView({behavior:'smooth'});
        },700);
        return false;
      }
      document.getElementById("msg-q1").innerHTML='<span class="error">‚ùå Essayez encore !</span>';
      if(essaisQ.q1>=3){
        document.getElementById('indice-q1').textContent="üí° Indice : Cherchez un mot √©voquant l'enthousiasme collectif";
        document.getElementById('indice-q1').classList.remove('hidden');
      }
      return false;
    }

    // QUESTION 2
    function verifierQ2(f){
      const val=document.getElementById("input-q2").value.trim().toLowerCase().replace(/\s+/g,"");
      const bons=["lamodularite","lamodularit√©"];
      essaisQ.q2++;
      if(bons.includes(val)){
        document.getElementById("msg-q2").innerHTML='<span class="success">‚úÖ Bonne r√©ponse !</span>';
        majProgression(2);
        setTimeout(()=>{
          document.getElementById('audio2-section').classList.remove('hidden');
          document.getElementById('audio2-section').scrollIntoView({behavior:'smooth'});
        },700);
        return false;
      }
      document.getElementById("msg-q2").innerHTML='<span class="error">‚ùå Essayez encore !</span>';
      if(essaisQ.q2>=3){
        document.getElementById('indice-q2').textContent="üí° Indice : C'est la capacit√© √† changer facilement l'agencement";
        document.getElementById('indice-q2').classList.remove('hidden');
      }
      return false;
    }

    // QUESTION 3
    function verifierQ3(f){
      const val=document.getElementById("input-q3").value.trim().toLowerCase().replace(/\s+/g,"");
      const bons=["latailledessalles"];
      essaisQ.q3++;
      if(bons.includes(val)){
        document.getElementById("msg-q3").innerHTML='<span class="success">‚úÖ Bonne r√©ponse !</span>';
        setTimeout(()=>{
          document.getElementById('question-q4').classList.remove('hidden');
          document.getElementById('question-q4').scrollIntoView({behavior:'smooth'});
        },700);
        return false;
      }
      document.getElementById("msg-q3").innerHTML='<span class="error">‚ùå Essayez encore !</span>';
      if(essaisQ.q3>=3){
        document.getElementById('indice-q3').textContent="üí° Indice : Cela concerne les m√®tres carr√©s disponibles";
        document.getElementById('indice-q3').classList.remove('hidden');
      }
      return false;
    }

    // QUESTION 4
    function verifierQ4(f){
      const val=document.getElementById("input-q4").value.trim().toLowerCase().replace(/\s+/g,"");
      const bons=["lecout","leco√ªt"];
      essaisQ.q4++;
      if(bons.includes(val)){
        document.getElementById("msg-q4").innerHTML='<span class="success">‚úÖ Bonne r√©ponse !</span>';
        setTimeout(()=>{
          document.getElementById('question-q5').classList.remove('hidden');
          document.getElementById('question-q5').scrollIntoView({behavior:'smooth'});
        },700);
        return false;
      }
      document.getElementById("msg-q4").innerHTML='<span class="error">‚ùå Essayez encore !</span>';
      if(essaisQ.q4>=3){
        document.getElementById('indice-q4').textContent="üí° Indice : Pensez au budget √† pr√©voir";
        document.getElementById('indice-q4').classList.remove('hidden');
      }
      return false;
    }

    // QUESTION 5
    function verifierQ5(f){
      const val=document.getElementById("input-q5").value.trim().toLowerCase().replace(/\s+/g,"");
      const bons=["lamaintenance"];
      essaisQ.q5++;
      if(bons.includes(val)){
        document.getElementById("msg-q5").innerHTML='<span class="success">‚úÖ Bonne r√©ponse !</span>';
        setTimeout(()=>{
          document.getElementById('question-q6').classList.remove('hidden');
          document.getElementById('question-q6').scrollIntoView({behavior:'smooth'});
        },700);
        return false;
      }
      document.getElementById("msg-q5").innerHTML='<span class="error">‚ùå Essayez encore !</span>';
      if(essaisQ.q5>=3){
        document.getElementById('indice-q5').textContent="üí° Indice : Pensez √† l'entretien du mat√©riel";
        document.getElementById('indice-q5').classList.remove('hidden');
      }
      return false;
    }

    // QUESTION 6
    function verifierQ6(f){
      const val=document.getElementById("input-q6").value.trim().toLowerCase().replace(/\s+/g,"");
      const bons=["affectation","unsystemedereservation","unsyst√®medereservation"];
      essaisQ.q6++;
      if(bons.includes(val)){
        document.getElementById("msg-q6").innerHTML='<span class="success">‚úÖ Bonne r√©ponse !</span>';
        majProgression(3);
        setTimeout(()=>{
          document.getElementById('mindmap-section').classList.remove('hidden');
          document.getElementById('mindmap-section').scrollIntoView({behavior:'smooth'});
        },700);
        return false;
      }
      document.getElementById("msg-q6").innerHTML='<span class="error">‚ùå Essayez encore !</span>';
      if(essaisQ.q6>=3){
        document.getElementById('indice-q6').textContent="üí° Indice : Cela peut fonctionner soit avec un emploi du temps d√©di√©, soit avec la prise de cr√©neaux en avance";
        document.getElementById('indice-q6').classList.remove('hidden');
      }
      return false;
    }

    // VALIDATION CARTE MENTALE SIMPLIFI√âE
    function validerCarteMentale(){
      document.getElementById('validation-carte').innerHTML='üéâ <strong>Parfait ! Votre carte mentale et vos √©changes sont valid√©s !</strong>';
      document.getElementById('validation-carte').classList.remove('hidden');
      majProgression(4);
      setTimeout(()=>{
        document.getElementById('final-section').classList.remove('hidden');
        document.getElementById('final-section').scrollIntoView({behavior:'smooth'});
      },1500);
    }
    
    function envoyerMick(){
      document.getElementById('envoi-msg').innerHTML='üëÖ <span style="color: #D2691E;"><strong>Mick</strong></span> part chercher l\'enveloppe bonus !<br>üéâ Rendez-vous aupr√®s de l\'animateur ! üéâ';
    }
  </script>
</body>
</html>
