<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mission Rolling Stones - Classe Flexible</title>
  <style>
    /* Styles d'origine conserv√©s, idem ta version ci-dessus */
    /* ... (reprends tout ton block <style>) ... */
  </style>
</head>
<body>
  <!-- INTRO -->
  <div class="mission-intro">
    <div class="stones-header">
      <span class="music-icon">üé∏</span>
      <h1>Mission pour le groupe 2 ROLLING STONES</h1>
      <span class="tongue-logo">üëÖ</span>
    </div>
    <div class="mission-text">
      <p><strong>Bienvenue dans cette mission "La parole aux praticiens de la classe flexible"</strong></p>
      <p><strong>Vous devez en 20 minutes :</strong></p>
      <ul>
        <li>üéß √âcouter les audios</li>
        <li>üìù Prendre des notes</li>
        <li>üîë Trouver les mots codes pour obtenir le message final et d√©couvrir l'enveloppe</li>
      </ul>
      <p>√Ä l'issue de l'√©coute, discutez de ce que vous avez d√©couvert et r√©alisez une <strong>carte mentale</strong> avec les points saillants du propos du chef d'√©tablissement.</p>
      <p>Puis partez √† la recherche du groupe <strong>Beatles</strong> pour √©changer avec eux en vous tenant debout sur vos questions, d√©couvertes et r√©flexions.</p>
      <p style="text-align: center; font-size: 1.2em; margin-top: 15px;">üé∏ <strong>Bonne chance !</strong> üé∏</p>
    </div>
  </div>

  <!-- TIMER + INDICE ESCAPE-TEAM, gard√©s tel quel -->
  <!-- ... (reprends ton HTML de chrono et d'indice) ... -->

  <div class="container">
    <h1>La classe flexible : t√©moignage d'un chef d'√©tablissement</h1>
    <nav class="progression">
      <div class="step active" id="step1">1</div>
      <div class="step" id="step2">2</div>
      <div class="step" id="step3">3</div>
      <div class="step" id="step4">4</div>
    </nav>
    
    <!-- AUDIO 1 -->
    <div class="section" id="audio1-section">
      <h2>√âtape 1 : Premi√®re √©coute</h2>
      <audio id="audio1" controls src="audio1.mp3"></audio>

      <form onsubmit="return verifierQ1(this);" id="form-q1" class="hidden">
        <label>Qu'a suscit√© la premi√®re salle flexible chez les professeurs ? (3 mots)</label>
        <input type="text" id="input-q1" autocomplete="off" placeholder="Votre r√©ponse">
        <button type="submit">Valider</button>
        <div id="msg-q1"></div>
        <div id="indice-q1" class="hint hidden"></div>
      </form>

      <form onsubmit="return verifierQ2(this);" id="form-q2" class="hidden">
        <label>Quelle est la force de la salle flexible pour des enseignants qui souhaitent l'utiliser sur un temps court ? (2 mots)</label>
        <input type="text" id="input-q2" autocomplete="off" placeholder="Votre r√©ponse">
        <button type="submit">Valider</button>
        <div id="msg-q2"></div>
        <div id="indice-q2" class="hint hidden"></div>
      </form>
    </div>

    <!-- AUDIO 2 -->
    <div class="section hidden" id="audio2-section">
      <h2>√âtape 2 : Deuxi√®me √©coute</h2>
      <audio id="audio2" controls src="audio2.mp3"></audio>

      <form onsubmit="return verifierQ3(this);" id="form-q3" class="hidden">
        <label>Quel est le premier point de vigilance pour installer des √Ælots ? (4 mots)</label>
        <input type="text" id="input-q3" autocomplete="off" placeholder="Votre r√©ponse">
        <button type="submit">Valider</button>
        <div id="msg-q3"></div>
        <div id="indice-q3" class="hint hidden"></div>
      </form>

      <form onsubmit="return verifierQ4(this);" id="form-q4" class="hidden">
        <label>Quel est le second point de vigilance en ce qui concerne l'√©quipement de ces salles ? (2 mots)</label>
        <input type="text" id="input-q4" autocomplete="off" placeholder="Votre r√©ponse">
        <button type="submit">Valider</button>
        <div id="msg-q4"></div>
        <div id="indice-q4" class="hint hidden"></div>
      </form>

      <form onsubmit="return verifierQ5(this);" id="form-q5" class="hidden">
        <label>Le troisi√®me point de vigilance ? (2 mots)</label>
        <input type="text" id="input-q5" autocomplete="off" placeholder="Votre r√©ponse">
        <button type="submit">Valider</button>
        <div id="msg-q5"></div>
        <div id="indice-q5" class="hint hidden"></div>
      </form>

      <form onsubmit="return verifierQ6(this);" id="form-q6" class="hidden">
        <label>Comment r√©partir les enseignants sur ces salles ? Deux solutions. (1 √† 4 mots attendus)</label>
        <input type="text" id="input-q6" autocomplete="off" placeholder="Votre r√©ponse">
        <button type="submit">Valider</button>
        <div id="msg-q6"></div>
        <div id="indice-q6" class="hint hidden"></div>
      </form>
    </div>

    <!-- ... (√©tapes suivantes carte mentale, notes, etc. gard√©es comme avant) ... -->
  </div>

  <!-- FINAL, FOOTER, ETC. gard√©s tel quel -->
  <!-- ... -->

<script>
  // Activation questions audio 1
  const audio1 = document.getElementById('audio1');
  audio1.addEventListener('ended', function() {
    document.getElementById('form-q1').classList.remove('hidden');
  });

  // Activation question suivante apr√®s succ√®s √† chaque √©tape
  function nextFormAudio1(formId) {
    if (formId === 'form-q1') document.getElementById('form-q2').classList.remove('hidden');
    if (formId === 'form-q2') document.getElementById('audio2-section').classList.remove('hidden');
  }

  // Activation questions audio 2
  const audio2 = document.getElementById('audio2');
  audio2.addEventListener('ended', function() {
    document.getElementById('form-q3').classList.remove('hidden');
  });

  function nextFormAudio2(formId) {
    if (formId === 'form-q3') document.getElementById('form-q4').classList.remove('hidden');
    if (formId === 'form-q4') document.getElementById('form-q5').classList.remove('hidden');
    if (formId === 'form-q5') document.getElementById('form-q6').classList.remove('hidden');
    // Apr√®s la derni√®re question, tu peux ajouter l'apparition de l'√©tape suivante
  }

  // Syst√®me essais et indices
  let essaisQ = {q1: 0, q2: 0, q3: 0, q4: 0, q5: 0, q6: 0};

  function verifierQ1(f) {
    const val = document.getElementById("input-q1").value.trim().toLowerCase().replace(/'/g, "");
    const bons = ["de l'engouement", "delengouement"];
    essaisQ.q1++;
    if (bons.includes(val.replace(/\s+/g, " "))) {
      document.getElementById("msg-q1").innerHTML = '<span class="success">‚úÖ Bonne r√©ponse !</span>';
      nextFormAudio1('form-q1');
      return false;
    }
    document.getElementById("msg-q1").innerHTML = '<span class="error">‚ùå Essayez encore !</span>';
    if (essaisQ.q1 >= 3) {
      document.getElementById('indice-q1').textContent = "Indice¬†: Cherchez un mot √©voquant l‚Äôenthousiasme collectif";
      document.getElementById('indice-q1').classList.remove('hidden');
    }
    return false;
  }

  function verifierQ2(f) {
    const val = document.getElementById("input-q2").value.trim().toLowerCase();
    const bons = ["la modularit√©", "lamodularit√©"];
    essaisQ.q2++;
    if (bons.includes(val.replace(/\s+/g, " "))) {
      document.getElementById("msg-q2").innerHTML = '<span class="success">‚úÖ Bonne r√©ponse !</span>';
      nextFormAudio1('form-q2');
      return false;
    }
    document.getElementById("msg-q2").innerHTML = '<span class="error">‚ùå Essayez encore !</span>';
    if (essaisQ.q2 >= 3) {
      document.getElementById('indice-q2').textContent = "Indice¬†: C‚Äôest la capacit√© √† changer facilement l‚Äôagencement";
      document.getElementById('indice-q2').classList.remove('hidden');
    }
    return false;
  }

  function verifierQ3(f) {
    const val = document.getElementById("input-q3").value.trim().toLowerCase();
    const bons = ["la taille des salles", "latailledessalles"];
    essaisQ.q3++;
    if (bons.includes(val.replace(/\s+/g, " "))) {
      document.getElementById("msg-q3").innerHTML = '<span class="success">‚úÖ Bonne r√©ponse !</span>';
      nextFormAudio2('form-q3');
      return false;
    }
    document.getElementById("msg-q3").innerHTML = '<span class="error">‚ùå Essayez encore !</span>';
    if (essaisQ.q3 >= 3) {
      document.getElementById('indice-q3').textContent = "Indice¬†: Cela concerne les m√®tres carr√©s disponibles";
      document.getElementById('indice-q3').classList.remove('hidden');
    }
    return false;
  }

  function verifierQ4(f) {
    const val = document.getElementById("input-q4").value.trim().toLowerCase();
    const bons = ["le co√ªt", "lecout"];
    essaisQ.q4++;
    if (bons.includes(val.replace(/\s+/g, " "))) {
      document.getElementById("msg-q4").innerHTML = '<span class="success">‚úÖ Bonne r√©ponse !</span>';
      nextFormAudio2('form-q4');
      return false;
    }
    document.getElementById("msg-q4").innerHTML = '<span class="error">‚ùå Essayez encore !</span>';
    if (essaisQ.q4 >= 3) {
      document.getElementById('indice-q4').textContent = "Indice¬†: Pensez au budget √† pr√©voir";
      document.getElementById('indice-q4').classList.remove('hidden');
    }
    return false;
  }

  function verifierQ5(f) {
    const val = document.getElementById("input-q5").value.trim().toLowerCase();
    const bons = ["la maintenance", "lamaintenance"];
    essaisQ.q5++;
    if (bons.includes(val.replace(/\s+/g, " "))) {
      document.getElementById("msg-q5").innerHTML = '<span class="success">‚úÖ Bonne r√©ponse !</span>';
      nextFormAudio2('form-q5');
      return false;
    }
    document.getElementById("msg-q5").innerHTML = '<span class="error">‚ùå Essayez encore !</span>';
    if (essaisQ.q5 >= 3) {
      document.getElementById('indice-q5').textContent = "Indice¬†: Pensez √† l‚Äôentretien du mat√©riel";
      document.getElementById('indice-q5').classList.remove('hidden');
    }
    return false;
  }

  function verifierQ6(f) {
    const val = document.getElementById("input-q6").value.trim().toLowerCase();
    const bons = ["affectation", "un syst√®me de r√©servation", "unsystemedereservation"];
    essaisQ.q6++;
    if (bons.includes(val.replace(/\s+/g, " "))) {
      document.getElementById("msg-q6").innerHTML = '<span class="success">‚úÖ Bonne r√©ponse !</span>';
      // Tu peux ajouter ici l‚Äôapparition de la suite de ton parcours p√©dagogique
      return false;
    }
    document.getElementById("msg-q6").innerHTML = '<span class="error">‚ùå Essayez encore !</span>';
    if (essaisQ.q6 >= 3) {
      document.getElementById('indice-q6').textContent = "Indice¬†: Cela peut fonctionner soit avec un emploi du temps d√©di√©, soit avec la prise de cr√©neaux en avance";
      document.getElementById('indice-q6').classList.remove('hidden');
    }
    return false;
  }

  // ... (garde toutes tes autres fonctions d‚Äôorigine pour le chrono, notes, export, etc.)
</script>
</body>
</html>
